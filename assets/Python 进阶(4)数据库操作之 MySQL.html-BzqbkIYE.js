import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,e as t}from"./app-D4DrOjUi.js";const e={},p=t(`<h2 id="_1-简介" tabindex="-1"><a class="header-anchor" href="#_1-简介"><span>1.简介</span></a></h2><p>MySQL 是目前使用最广泛的数据库之一，它有着良好的性能，能够跨平台，支持分布式，能够承受高并发。</p><p>Python 大致有如下 5 种方式操作 MySQL。</p><ul><li><strong>mysql-connector-python</strong></li></ul><p>这是MySQL官方提供的官方驱动程序，可以通过pip安装。它提供了mysql.connector模块，用于连接和操作MySQL数据库。</p><ul><li><strong>mysqlclient</strong></li></ul><p>MySQLdb 的 Fork 版本，完全兼容 MySQLdb，支持 Python3，它是 Django ORM 的依赖工具，如果你喜欢用原生 SQL 操作数据库，那么推荐使用它。</p><ul><li><strong>PyMySQL</strong></li></ul><p>PyMySQL 采用纯 Python 开发，兼容 MySQLdb，性能不如 MySQLdb，安装方便，支持 Python3。</p><ul><li><strong>peewee</strong></li></ul><p>peewee 是一个流行的 ORM 框架，实现了对象与数据库表的映射，兼容多种数据库，我们无需知道原生 SQL，只要了解面向对象的思想就可以简单、快速的操作相应数据库，支持 Python3。</p><ul><li><strong>SQLAlchemy</strong></li></ul><p>SQLAlchemy 是一个 ORM 框架，同时也支持原生 SQL，支持 Python3，它类似于 Java 的 Hibernate 框架。</p><h2 id="_2-实际操作" tabindex="-1"><a class="header-anchor" href="#_2-实际操作"><span>2.实际操作</span></a></h2><h3 id="测试数据准备" tabindex="-1"><a class="header-anchor" href="#测试数据准备"><span>测试数据准备</span></a></h3><div class="language-mysql line-numbers-mode" data-ext="mysql" data-title="mysql"><pre class="language-mysql"><code>CREATE TABLE student (
  id int(10) AUTO_INCREMENT PRIMARY KEY,
  name varchar(255) NOT NULL,
  age int(10) NOT NULL
);
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-1-mysql-connector-python" tabindex="-1"><a class="header-anchor" href="#_2-1-mysql-connector-python"><span>2.1 mysql-connector-python</span></a></h3><p>安装：</p><p>执行<code>pip install mysql-connector-python</code>进行安装</p><p>增删查改操作</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token keyword">import</span> mysql<span class="token punctuation">.</span>connector

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
	<span class="token comment"># 创建链接</span>
    connect <span class="token operator">=</span> mysql<span class="token punctuation">.</span>connector<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>
        host<span class="token operator">=</span><span class="token string">&#39;localhost&#39;</span><span class="token punctuation">,</span>
        user<span class="token operator">=</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">,</span>
        port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span>
        password<span class="token operator">=</span><span class="token string">&#39;密码&#39;</span><span class="token punctuation">,</span>
        database<span class="token operator">=</span><span class="token string">&#39;test&#39;</span>
    <span class="token punctuation">)</span>
	
    <span class="token comment"># 创建游标</span>
    cursor <span class="token operator">=</span> connect<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO student(\`name\`,\`age\`) VALUES(%s,%s)&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;cao&quot;</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM student&quot;</span><span class="token punctuation">)</span>

    results <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> row <span class="token keyword">in</span> results<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>

    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;UPDATE student SET name = %s WHERE age = %s&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;cao1&quot;</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;DELETE FROM student WHERE name = %s AND age = %s&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;cao1&quot;</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 默认开启事务，需要进行提交才能实现数据的修改</span>
    connect<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>
	
    <span class="token comment"># 关闭游标和链接</span>
    cursor<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    connect<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-mysqlclient" tabindex="-1"><a class="header-anchor" href="#_2-2-mysqlclient"><span>2.2 mysqlclient</span></a></h3><p>安装：</p><p>执行<code>pip install mysqlclient</code>进行安装</p><p>增删查改操作：【和 <code>mysql-connector-python</code> 差不多】</p><div class="language-python line-numbers-mode" data-ext="py" data-title="py"><pre class="language-python"><code><span class="token keyword">import</span> MySQLdb

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&#39;__main__&#39;</span><span class="token punctuation">:</span>
    connect <span class="token operator">=</span> MySQLdb<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>
        <span class="token comment"># 主机</span>
        host<span class="token operator">=</span><span class="token string">&#39;localhost&#39;</span><span class="token punctuation">,</span>
        <span class="token comment"># 端口号</span>
        port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span>
        <span class="token comment"># 用户名</span>
        user<span class="token operator">=</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">,</span>
        <span class="token comment"># 密码</span>
        passwd<span class="token operator">=</span><span class="token string">&#39;密码&#39;</span><span class="token punctuation">,</span>
        <span class="token comment"># 数据库名称</span>
        db<span class="token operator">=</span><span class="token string">&#39;test&#39;</span><span class="token punctuation">)</span>

    <span class="token comment"># 创建游标</span>
    cursor <span class="token operator">=</span> connect<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>

    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;INSERT INTO student(\`name\`,\`age\`) VALUES(%s,%s)&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;cao&quot;</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;SELECT * FROM student&quot;</span><span class="token punctuation">)</span>

    results <span class="token operator">=</span> cursor<span class="token punctuation">.</span>fetchall<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">for</span> row <span class="token keyword">in</span> results<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span>

    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;UPDATE student SET name = %s WHERE age = %s&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;cao1&quot;</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">&quot;DELETE FROM student WHERE name = %s AND age = %s&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;cao1&quot;</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment"># 默认开启事务，需要进行提交才能实现数据的修改</span>
    connect<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment"># 关闭游标和链接</span>
    cursor<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
    connect<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-pymysql" tabindex="-1"><a class="header-anchor" href="#_2-3-pymysql"><span>2.3 PyMySQL</span></a></h3><p>其实都差不多，就不写了</p><h3 id="_2-4-peewee" tabindex="-1"><a class="header-anchor" href="#_2-4-peewee"><span>2.4 peewee</span></a></h3><p>。。。。。</p><h3 id="_2-5-sqlalchemy" tabindex="-1"><a class="header-anchor" href="#_2-5-sqlalchemy"><span>2.5 SQLAlchemy</span></a></h3><p>。。。。。</p>`,32),o=[p];function c(l,i){return s(),a("div",null,o)}const d=n(e,[["render",c],["__file","Python 进阶(4)数据库操作之 MySQL.html.vue"]]),m=JSON.parse('{"path":"/notes/python/%E8%BF%9B%E9%98%B6/Python%20%E8%BF%9B%E9%98%B6(4)%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E4%B9%8B%20MySQL.html","title":"Python 进阶(4)数据库操作之 MySQL","lang":"zh-CN","frontmatter":{"title":"Python 进阶(4)数据库操作之 MySQL","date":"2024-05-18T00:00:00.000Z","description":"1.简介 MySQL 是目前使用最广泛的数据库之一，它有着良好的性能，能够跨平台，支持分布式，能够承受高并发。 Python 大致有如下 5 种方式操作 MySQL。 mysql-connector-python 这是MySQL官方提供的官方驱动程序，可以通过pip安装。它提供了mysql.connector模块，用于连接和操作MySQL数据库。 my...","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/notes/python/%E8%BF%9B%E9%98%B6/Python%20%E8%BF%9B%E9%98%B6(4)%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C%E4%B9%8B%20MySQL.html"}],["meta",{"property":"og:site_name","content":"曹云友的博客"}],["meta",{"property":"og:title","content":"Python 进阶(4)数据库操作之 MySQL"}],["meta",{"property":"og:description","content":"1.简介 MySQL 是目前使用最广泛的数据库之一，它有着良好的性能，能够跨平台，支持分布式，能够承受高并发。 Python 大致有如下 5 种方式操作 MySQL。 mysql-connector-python 这是MySQL官方提供的官方驱动程序，可以通过pip安装。它提供了mysql.connector模块，用于连接和操作MySQL数据库。 my..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-05-18T14:07:01.000Z"}],["meta",{"property":"article:author","content":"曹云友"}],["meta",{"property":"article:published_time","content":"2024-05-18T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-05-18T14:07:01.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Python 进阶(4)数据库操作之 MySQL\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2024-05-18T00:00:00.000Z\\",\\"dateModified\\":\\"2024-05-18T14:07:01.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"曹云友\\",\\"url\\":\\"https://caoyunyou.github.io\\"}]}"]]},"headers":[{"level":2,"title":"1.简介","slug":"_1-简介","link":"#_1-简介","children":[]},{"level":2,"title":"2.实际操作","slug":"_2-实际操作","link":"#_2-实际操作","children":[{"level":3,"title":"测试数据准备","slug":"测试数据准备","link":"#测试数据准备","children":[]},{"level":3,"title":"2.1 mysql-connector-python","slug":"_2-1-mysql-connector-python","link":"#_2-1-mysql-connector-python","children":[]},{"level":3,"title":"2.2 mysqlclient","slug":"_2-2-mysqlclient","link":"#_2-2-mysqlclient","children":[]},{"level":3,"title":"2.3 PyMySQL","slug":"_2-3-pymysql","link":"#_2-3-pymysql","children":[]},{"level":3,"title":"2.4 peewee","slug":"_2-4-peewee","link":"#_2-4-peewee","children":[]},{"level":3,"title":"2.5 SQLAlchemy","slug":"_2-5-sqlalchemy","link":"#_2-5-sqlalchemy","children":[]}]}],"git":{"createdTime":1716041221000,"updatedTime":1716041221000,"contributors":[{"name":"曹云友","email":"caoyunyou@foxmail.com","commits":1}]},"readingTime":{"minutes":1.99,"words":597},"filePathRelative":"notes/python/进阶/Python 进阶(4)数据库操作之 MySQL.md","localizedDate":"2024年5月18日","excerpt":"<h2>1.简介</h2>\\n<p>MySQL 是目前使用最广泛的数据库之一，它有着良好的性能，能够跨平台，支持分布式，能够承受高并发。</p>\\n<p>Python 大致有如下 5 种方式操作 MySQL。</p>\\n<ul>\\n<li><strong>mysql-connector-python</strong></li>\\n</ul>\\n<p>这是MySQL官方提供的官方驱动程序，可以通过pip安装。它提供了mysql.connector模块，用于连接和操作MySQL数据库。</p>\\n<ul>\\n<li><strong>mysqlclient</strong></li>\\n</ul>\\n<p>MySQLdb 的 Fork 版本，完全兼容 MySQLdb，支持 Python3，它是 Django ORM 的依赖工具，如果你喜欢用原生 SQL 操作数据库，那么推荐使用它。</p>","autoDesc":true}');export{d as comp,m as data};
